class Solution {
    public class Pair implements Comparable<Pair>{
        int val;
        int label;
        Pair(int val,int label){
            this.val=val;
            this.label=label;
        }
        @Override
        public int compareTo(Pair p){
            return p.val-this.val;  
        }
    }
    public int largestValsFromLabels(int[] values, int[] labels, int numWanted, int useLimit) {
        PriorityQueue<Pair> pq=new PriorityQueue<>();
        for(int i=0;i<values.length;i++){
            pq.add(new Pair(values[i],labels[i]));
        }
        HashMap<Integer,Integer> map=new HashMap<>();   
        int sum=0;
        int count=0;
        while(!pq.isEmpty()){
            Pair curr=pq.poll();
            if(!map.containsKey(curr.label)){
                map.put(curr.label,1);
                sum+=curr.val;
                count++;
            }
            else{
                if(map.get(curr.label)==useLimit){
                    continue;
                }
                map.put(curr.label,map.get(curr.label)+1);
                sum+=curr.val;
                count++;
            }
            if(count==numWanted){
                break;
            }
        }
        return sum;
    }
}
